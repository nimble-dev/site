{
  "hash": "2e616fee92f30cfe23440a5226ed1599",
  "result": {
    "engine": "knitr",
    "markdown": "---\ntitle: \"nimbleEcology: custom NIMBLE distributions for ecologists\"\ndescription: \"\"\nauthor: \"Ben Goldstein\"\ndate: \"2020-04-18\"\ncategories: ['announcement','R']\nexecute:\n  freeze: auto\n---\n\n\n## What is nimbleEcology?\n\n`nimbleEcology` is an auxiliary nimble package for ecologists.\n\nnimbleEcology contains a set of distributions corresponding to some common ecological models. When the package is loaded, these distributions are registered to NIMBLE and can be used directly in models.\n\nnimbleEcology contains distributions often used in modeling abundance, occupancy and capture-recapture studies.\n\n## Why use nimbleEcology?\n\nEcological models for abundance, occupancy and capture-recapture often involve many discrete latent states. Writing such models can be error-prone and in some cases can lead to slow MCMC mixing. We’ve put together a collection of distributions in nimble to make writing these models easier\n\n  * **Easy to use**. Using a nimbleEcology distribution is easier than writing out probabilities or hierarchical model descriptions.\n  * **Minimize errors**. You don’t have to lose hours looking for the misplaced minus sign; the distributions are checked and tested.\n  * **Integrate over latent states**. nimbleEcology implementations integrate or sum likelihoods over latent states. This eliminates the need for sampling these latent variables, which in some cases can provide efficiency gains, and allows maximum likelihood (ML) estimation methods with hierarchical models.\n\n## How to use\n\nnimbleEcology can be installed directly from CRAN as follows.\n    \n\n::: {.cell}\n\n```{.r .cell-code}\ninstall.packages(\"nimbleEcology\")\n```\n:::\n\n\nOnce nimbleEcology is installed, load it using `library`. It will also load `nimble`.\n    \n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(nimbleEcology)\n```\n\n::: {.cell-output .cell-output-stderr}\n\n```\nLoading required package: nimble\n```\n\n\n:::\n\n::: {.cell-output .cell-output-stderr}\n\n```\nnimble version 1.4.0 is loaded.\nFor more information on NIMBLE and a User Manual,\nplease visit https://R-nimble.org.\n```\n\n\n:::\n\n::: {.cell-output .cell-output-stderr}\n\n```\n\nAttaching package: 'nimble'\n```\n\n\n:::\n\n::: {.cell-output .cell-output-stderr}\n\n```\nThe following object is masked from 'package:stats':\n\n    simulate\n```\n\n\n:::\n\n::: {.cell-output .cell-output-stderr}\n\n```\nThe following object is masked from 'package:base':\n\n    declare\n```\n\n\n:::\n\n::: {.cell-output .cell-output-stderr}\n\n```\nLoading nimbleEcology. Registering multiple variants of the following distributions:\n dOcc, dDynOcc, dCJS, dHMM, dDHMM, dNmixture.\n```\n\n\n:::\n:::\n\n    \nNote the message indicating which distribution families have been loaded.\n\n## Which distributions are available?\n\nThe following distributions are available in nimbleEcology.\n\n  * `dOcc` (occupancy model)\n  * `dDynOcc` (dynamic occupancy model)\n  * `dHMM` (hidden Markov model)\n  * `dDHMM  (dynamic hidden Markov model)\n  * `dCJS` (Cormack-Jolly-Seber or mark-recapture model)\n  * `dNmixture  (N-mixture model)\n  * `dYourNewDistribution` Do you have a custom distribution that would fit the package? Are we missing a distribution you need? Let us know! We actively encourage contributions through GitHub or direct communication.\n\n## Example code\n\nThe following code illustrates a NIMBLE model definition for an occupancy model using nimbleEcology. The model is specified, built, and used to simulate some data according to the occupancy distribution.\n    \n    \n\n::: {.cell}\n\n```{.r .cell-code}\nocc_code <- nimbleCode({\n  psi ~ dunif(0, 1)\n  p ~ dunif(0, 1)\n  for (s in 1:nsite) {\n    x[s, 1:nvisit] ~ dOcc_s(probOcc = psi, probDetect = p,\n                            len = nvisit)\n  }\n})\n\nocc_model <- nimbleModel(occ_code,\n               constants = list(nsite = 10, nvisit = 5),\n               inits = list(psi = 0.5, p = 0.5))\n```\n\n::: {.cell-output .cell-output-stderr}\n\n```\nDefining model\n```\n\n\n:::\n\n::: {.cell-output .cell-output-stderr}\n\n```\nBuilding model\n```\n\n\n:::\n\n::: {.cell-output .cell-output-stderr}\n\n```\nSetting data and initial values\n```\n\n\n:::\n\n::: {.cell-output .cell-output-stderr}\n\n```\nRunning calculate on model\n  [Note] Any error reports that follow may simply reflect missing values in model variables.\n```\n\n\n:::\n\n::: {.cell-output .cell-output-stderr}\n\n```\nChecking model sizes and dimensions\n```\n\n\n:::\n\n::: {.cell-output .cell-output-stderr}\n\n```\n  [Note] This model is not fully initialized. This is not an error.\n         To see which variables are not initialized, use model$initializeInfo().\n         For more information on model initialization, see help(modelInitialization).\n```\n\n\n:::\n\n```{.r .cell-code}\nset.seed(94)\nocc_model$simulate(\"x\")\nocc_model$x\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n      [,1] [,2] [,3] [,4] [,5]\n [1,]    0    0    0    0    0\n [2,]    0    0    0    0    0\n [3,]    0    0    0    0    0\n [4,]    0    0    0    0    0\n [5,]    1    1    1    0    1\n [6,]    0    0    0    1    0\n [7,]    0    0    0    0    0\n [8,]    0    0    0    0    1\n [9,]    1    1    1    0    0\n[10,]    0    1    0    0    0\n```\n\n\n:::\n:::\n\n    \n\n## How to learn more\n\nOnce the package is installed, you can check out the package vignette with `vignette(\"nimbleEcology\")`.\n\nDocumentation is available for each distribution family using the R syntax `?distribution`, for example\n    \n\n::: {.cell}\n\n```{.r .cell-code}\n?dHMM\n```\n:::\n\n\nFor more detail on marginalization in these distributions, see the paper “One size does not fit all: Customizing MCMC methods for hierarchical models using NIMBLE” [(Ponisio et al. 2020)](https://doi.org/10.1002/ece3.6053).",
    "supporting": [
      "nimbleecology-custom-nimble-distributions-for-ecologists_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}